name: call workflow

on:
  push:
  workflow_dispatch:

env:
    ARTIFACT_NAME: files

jobs:
  upload:
    runs-on: ubuntu-latest
    steps:
      - name: checkout
        uses: actions/checkout@v4
      - uses: actions/setup-python@v4
      - run: python create-files.py
      - uses: actions/upload-artifacts@v4
        with: 
          name: ${{ env.ARTIFACT_NAME }}
          path: file*
  
  call:
    needs: upload
    uses: ./.github/workflows/inputs.yaml
    with:
      artifact_name: ${{ env.ARTIFACT_NAME }}
      file_name: file3.yaml
  
  check_file:
    needs: call
    runs-on: ubuntu-latest
    run: echo "${{ needs.call.outputs.file_exist_msg }}"

